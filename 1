#!/bin/bash

# Check if the number of arguments is correct
if [ "$#" -ne 2 ]; then
    echo "Usage: $0 input_folder output_folder"
    exit 1
fi

# Input folder
input_folder="$1"

# Output folder
output_folder="$2"

# Check if the input folder exists
if [ ! -d "$input_folder" ]; then
    echo "Input folder not found: $input_folder"
    exit 1
fi

# Create the output folder if it doesn't exist
if [ ! -d "$output_folder" ]; then
    mkdir -p "$output_folder"
fi

# Iterate through each file in the input folder
for file in "$input_folder"/*; do
    # Check if the file is a regular file
    if [ -f "$file" ]; then
        # Extract the filename (without extension)
        filename=$(basename -- "$file")
        filename_without_extension="${filename%.*}"
        
        # Run the command with the filename
        echo "Running command with filename: $filename_without_extension"
        # Example command: cp "$file" "$output_folder/$filename_without_extension" 
        # Replace the above command with your desired command
        
        # If you want to copy the file to the output folder, you can use:
        inkscape -d 200 "$file" -o "$output_folder/$filename_without_extension.png"
    fi
done
